<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ARGOBOTS: src/tool.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ARGOBOTS
   &#160;<span id="projectnumber">c6511494322293e01714f56f341b8d2b22c1e3c1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tool.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d03/abti_8h_source.html">abti.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tool.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d2b/tool_8c__incl.png" border="0" usemap="#src_2tool_8c" alt=""/></div>
<map name="src_2tool_8c" id="src_2tool_8c">
</map>
</div>
</div>
<p><a href="../../df/db9/tool_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad2b1b2edca395d79ec47de11e857d314"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d5/d09/abtu_8h.html#a071d8986b72b8f5d099cdd47979b5e81">ABTU_ret_err</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db9/tool_8c.html#ad2b1b2edca395d79ec47de11e857d314">tool_query</a> (ABTI_tool_context *p_tctx, <a class="el" href="../../d5/d7d/abt_8h.html#ae0cb4fbeb9842cf875613879a2270353">ABT_tool_query_kind</a> query_kind, void *val)</td></tr>
<tr class="separator:ad2b1b2edca395d79ec47de11e857d314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2624d79637129a8172166ab8754215"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db9/tool_8c.html#a1a2624d79637129a8172166ab8754215">ABT_tool_register_thread_callback</a> (<a class="el" href="../../d5/d7d/abt_8h.html#a3a2557a055fa364bc1e79399dc801592">ABT_tool_thread_callback_fn</a> cb_func, uint64_t event_mask_thread, void *user_arg)</td></tr>
<tr class="memdesc:a1a2624d79637129a8172166ab8754215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a callback function for ULT events.  <a href="#a1a2624d79637129a8172166ab8754215">More...</a><br/></td></tr>
<tr class="separator:a1a2624d79637129a8172166ab8754215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5705fcd00778949445c20f4a3e3f0520"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db9/tool_8c.html#a5705fcd00778949445c20f4a3e3f0520">ABT_tool_register_task_callback</a> (<a class="el" href="../../d5/d7d/abt_8h.html#afa2e6c6404978c4bd600caee7218367c">ABT_tool_task_callback_fn</a> cb_func, uint64_t event_mask_task, void *user_arg)</td></tr>
<tr class="memdesc:a5705fcd00778949445c20f4a3e3f0520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a callback function for tasklet events.  <a href="#a5705fcd00778949445c20f4a3e3f0520">More...</a><br/></td></tr>
<tr class="separator:a5705fcd00778949445c20f4a3e3f0520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb492f348b901aa6100f28830301eec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db9/tool_8c.html#afdb492f348b901aa6100f28830301eec">ABT_tool_query_thread</a> (<a class="el" href="../../d5/d7d/abt_8h.html#a5d0ea838c8fa1bfdcfc1fce16d6d9c5e">ABT_tool_context</a> context, uint64_t event_thread, <a class="el" href="../../d5/d7d/abt_8h.html#ae0cb4fbeb9842cf875613879a2270353">ABT_tool_query_kind</a> query_kind, void *val)</td></tr>
<tr class="memdesc:afdb492f348b901aa6100f28830301eec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query information associated with a ULT event.  <a href="#afdb492f348b901aa6100f28830301eec">More...</a><br/></td></tr>
<tr class="separator:afdb492f348b901aa6100f28830301eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d66c3188a9a4a77525c88e83b487e20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db9/tool_8c.html#a2d66c3188a9a4a77525c88e83b487e20">ABT_tool_query_task</a> (<a class="el" href="../../d5/d7d/abt_8h.html#a5d0ea838c8fa1bfdcfc1fce16d6d9c5e">ABT_tool_context</a> context, uint64_t event_task, <a class="el" href="../../d5/d7d/abt_8h.html#ae0cb4fbeb9842cf875613879a2270353">ABT_tool_query_kind</a> query_kind, void *val)</td></tr>
<tr class="memdesc:a2d66c3188a9a4a77525c88e83b487e20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query information associated with a tasklet event.  <a href="#a2d66c3188a9a4a77525c88e83b487e20">More...</a><br/></td></tr>
<tr class="separator:a2d66c3188a9a4a77525c88e83b487e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2d66c3188a9a4a77525c88e83b487e20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_tool_query_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#a5d0ea838c8fa1bfdcfc1fce16d6d9c5e">ABT_tool_context</a>&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>event_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#ae0cb4fbeb9842cf875613879a2270353">ABT_tool_query_kind</a>&#160;</td>
          <td class="paramname"><em>query_kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query information associated with a tasklet event. </p>
<p><code><a class="el" href="../../d5/d7d/abt_8h.html#a0f152221f26f5747a56b1e3ee36b0fcf" title="Query information associated with a tasklet event. ">ABT_tool_query_task()</a></code> returns information associated with the tasklet event via <code>context</code>. See <code><a class="el" href="../../d5/d7d/abt_8h.html#aa0ff2e9d56ecfeab3cdb838d98d6f5ba" title="Query information associated with a ULT event. ">ABT_tool_query_thread()</a></code> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>handle to the tool context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event_task</td><td>tasklet event code passed to the callback function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">query_kind</td><td>query kind </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">val</td><td>pointer to storage where a returned value is saved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">ABT_ERR_FEATURE_NA</td><td>the tool feature is not supported </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/db9/tool_8c_source.html#l00225">225</a> of file <a class="el" href="../../df/db9/tool_8c_source.html">tool.c</a>.</p>

</div>
</div>
<a class="anchor" id="afdb492f348b901aa6100f28830301eec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_tool_query_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#a5d0ea838c8fa1bfdcfc1fce16d6d9c5e">ABT_tool_context</a>&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>event_thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#ae0cb4fbeb9842cf875613879a2270353">ABT_tool_query_kind</a>&#160;</td>
          <td class="paramname"><em>query_kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query information associated with a ULT event. </p>
<p><code>ABT_tool_query()</code> returns information associated with the tool context <code>context</code> through <code>val</code>. Since <code>context</code> is valid only in the callback handler, this function must be called in the callback handler.</p>
<p>When <code>query_kind</code> is ABT_TOOL_QUERY_KIND_POOL, it sets <code>*val</code> to <code>ABT_pool</code> of a pool to which a work unit is or will be pushed. The query is valid when <code>event</code> is THREAD_CREATE, THREAD_REVIVE, THREAD_YIELD, THREAD_RESUME, TASK_CREATE, or TASK_REVIVE. Otherwise, <code>*val</code> is set to ABT_POOL_NULL.</p>
<p>When <code>query_kind</code> is ABT_TOOL_QUERY_KIND_STACK_DEPTH, it sets <code>*val</code> to the current depth of stackable work units as an <code>int</code> value while the level of the main scheduler is zero. For example, if the current thread is directly running on the main scheduler, the depth is 1. The query is valid when <code>event</code> is THREAD_RUN and TASK_RUN (the depth after the work unit runs), THREAD_FINISH and TASK_FINISH (the depth before the work unit finishes), THREAD_YIELD (the depth before the work unit yields), and THREAD_SUSPEND (the depth before the work unit suspends). Otherwise, <code>*val</code> is set to zero.</p>
<p>When <code>query_kind</code> is ABT_TOOL_QUERY_KIND_CALLER_TYPE, <code>*val</code> is set to ABT_exec_entity_type of an entity which incurs this event. The query is valid for all events.</p>
<p>When <code>query_kind</code> is ABT_TOOL_QUERY_KIND_CALLER_HANDLE, <code>*val</code> is set to a handle of an entity which incurs this event. Specifically, <code>*val</code> is set to a ULT handle (ABT_thread) if the caller type is ABT_EXEC_ENTITY_TYPE_THREAD. <code>*val</code> is set to a tasklet handle (ABT_task) if the caller type is ABT_EXEC_ENTITY_TYPE_TASK. If the caller is an external thread, <code>*val</code> is set to NULL. The query is valid for all events except for THREAD_CANCEL and TASK_CANCEL. Note that the caller is a previous work unit when <code>event</code> is THRAED_RUN or TASK_RUN.</p>
<p>When <code>query_kind</code> is ABT_TOOL_QUERY_KIND_SYNC_OBJECT_TYPE, <code>*val</code> is set to ABT_sync_event_type of an synchronization object which incurs this event. The synchronization object is returned when <code>query_kind</code> is ABT_TOOL_QUERY_KIND_SYNC_OBJECT_HANDLE. Synchronization events, and ABT_sync_event_type, and synchronization objects are mapped as follows:</p>
<ul>
<li>ABT_SYNC_EVENT_TYPE_USER: User's explicit call (e.g., <a class="el" href="../../d0/d6d/group__ULT.html#ga177c58ca9094dc7feeb93521e30ff2aa" title="Yield the processor from the current running ULT back to the scheduler. ">ABT_thread_yield()</a>) The synchronization object is not set ((void *)NULL).</li>
<li>ABT_SYNC_EVENT_TYPE_XSTREAM_JOIN: Waiting for completion of execution streams (e.g., <a class="el" href="../../d3/def/group__ES.html#ga51abc49e45abfa6932101bebb0538899" title="Wait for xstream to terminate. ">ABT_xstream_join()</a>) The synchronization object is an execution stream (ABT_xstream).</li>
<li>ABT_SYNC_EVENT_TYPE_THREAD_JOIN: Waiting for completion of ULTs (e.g., <a class="el" href="../../d0/d6d/group__ULT.html#gaf5275b75a5184bca258e803370e44bea" title="Wait for thread to terminate. ">ABT_thread_join()</a>) The synchronization object is a ULT (ABT_thread).</li>
<li>ABT_SYNC_EVENT_TYPE_TASK_JOIN: Waiting for completion of tasklets (e.g., <a class="el" href="../../d7/d4b/group__TASK.html#ga124b2fc67af1f17d05510c27343a2f05" title="Wait for the tasklet to terminate. ">ABT_task_join()</a>) The synchronization object is a tasklet (ABT_task).</li>
<li>ABT_SYNC_EVENT_TYPE_MUTEX: Synchronization regarding a mutex (e.g., <a class="el" href="../../d2/d09/group__MUTEX.html#gaa04ef5552b54a247dd9aad207918d0f1" title="Lock the mutex. ">ABT_mutex_lock()</a>) The synchronization object is a mutex (ABT_mutex).</li>
<li>ABT_SYNC_EVENT_TYPE_COND: Synchronization regarding a condition variable(e.g., <a class="el" href="../../d9/d37/group__COND.html#ga5259b9161829998a5bef644b17635210" title="Wait on the condition. ">ABT_cond_wait()</a>) The synchronization object is a condition variable (ABT_cond).</li>
<li>ABT_SYNC_EVENT_TYPE_RWLOCK: Synchronization regarding a rwlock (e.g., <a class="el" href="../../d1/dd5/group__RWLOCK.html#gaa868b2a29f6643f950c6c95c5a73d122" title="Lock the rwlock as a reader. ">ABT_rwlock_rdlock()</a>) The synchronization object is a rwlock (ABT_rwlock).</li>
<li>ABT_SYNC_EVENT_TYPE_EVENTUAL: Synchronization regarding an eventual (e.g., <a class="el" href="../../da/d22/group__EVENTUAL.html#gaea11b60db3aadfacc33d24f31c53621a" title="Wait on the eventual. ">ABT_eventual_wait()</a>) The synchronization object is an eventual (ABT_eventual).</li>
<li>ABT_SYNC_EVENT_TYPE_FUTURE: Synchronization regarding a future (e.g., <a class="el" href="../../de/dd2/group__FUTURE.html#ga5dbdd249a5091a3c50740437d8d7e424" title="Wait on the future. ">ABT_future_wait()</a>) The synchronization object is a future (ABT_future).</li>
<li>ABT_SYNC_EVENT_TYPE_BARRIER: Synchronization regarding a barrier (e.g., <a class="el" href="../../d1/d59/group__BARRIER.html#gad5b9e2f6ad5bf056b1f699670b13d141" title="Wait on the barrier. ">ABT_barrier_wait()</a>) The synchronization object is a barrier (ABT_barrier).</li>
<li>ABT_SYNC_EVENT_TYPE_OTHER: Unclassified synchronization (e.g., <a class="el" href="../../d3/def/group__ES.html#ga7c680ac44eb625f04301d9829bc2c8f8" title="Terminate the ES associated with the calling ULT. ">ABT_xstream_exit()</a>) The synchronization object is not set ((void *)NULL).</li>
<li>ABT_SYNC_EVENT_TYPE_UNKNOWN <code>event</code> is neither THREAD_YIELD nor THREAD_SUSPEND. The synchronization object is not set ((void *)NULL). This query is valid for THREAD_YIELD and THREAD_SUSPEND.</li>
</ul>
<p>An object to which a returned handle points to may be in an intermediate state, so users are discouraged not to read any internal state of such an object (e.g., by <a class="el" href="../../d0/d6d/group__ULT.html#ga7c9d02c8bdd6a75538b7301c9db0a485" title="Return the state of thread. ">ABT_thread_get_state()</a> or <a class="el" href="../../d9/d52/group__POOL.html#gaafe8ef10c4d7fe1c7f7263fdc56fa58e" title="Return the size of a pool. ">ABT_pool_get_size()</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>handle to the tool context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>event code passed to the callback function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">query_kind</td><td>query kind </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">val</td><td>pointer to storage where a returned value is saved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">ABT_ERR_FEATURE_NA</td><td>the tool feature is not supported </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/db9/tool_8c_source.html#l00195">195</a> of file <a class="el" href="../../df/db9/tool_8c_source.html">tool.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5705fcd00778949445c20f4a3e3f0520"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_tool_register_task_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#afa2e6c6404978c4bd600caee7218367c">ABT_tool_task_callback_fn</a>&#160;</td>
          <td class="paramname"><em>cb_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>event_mask_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a callback function for tasklet events. </p>
<p><code><a class="el" href="../../d5/d7d/abt_8h.html#a3bb92f4ec9007f6f1403fc191485accd" title="Register a callback function for tasklet events. ">ABT_tool_register_task_callback()</a></code> sets a callback function <code>cb_func</code> for tasklet events. Events that are not in <code>event_mask</code> are excluded. Users can stop the event callback by setting <code>cb_func</code> to zero.</p>
<p><code>cb_func</code> is called with a target tasklet (the first argument), an underlying execution stream (the second argument), an event code (the third argument, see ABT_TOOL_EVENT_TASK), and the tool context that can be used for ABT_tool_query(). If the event occurs on an external thread, ABT_XSTREAM_NULL is passed. The returned tool context is only valid in the callback function.</p>
<p>An object to which a returned handle points to may be in an intermediate state, so users are discouraged not to read any internal state of such an object (e.g., by <a class="el" href="../../d0/d6d/group__ULT.html#ga7c9d02c8bdd6a75538b7301c9db0a485" title="Return the state of thread. ">ABT_thread_get_state()</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_func</td><td>callback function pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event_mask</td><td>event code mask </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_arg</td><td>user argument passed to <code>cb_func</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">ABT_ERR_FEATURE_NA</td><td>tool feature is not supported </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/db9/tool_8c_source.html#l00087">87</a> of file <a class="el" href="../../df/db9/tool_8c_source.html">tool.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1a2624d79637129a8172166ab8754215"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_tool_register_thread_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#a3a2557a055fa364bc1e79399dc801592">ABT_tool_thread_callback_fn</a>&#160;</td>
          <td class="paramname"><em>cb_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>event_mask_thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a callback function for ULT events. </p>
<p><code><a class="el" href="../../d5/d7d/abt_8h.html#a073b70e7817778cb1227d7a2db80427a" title="Register a callback function for ULT events. ">ABT_tool_register_thread_callback()</a></code> sets a callback function <code>cb_func</code> for ULT events. Events that are not in <code>event_mask</code> are excluded. Users can stop the event callback by setting <code>cb_func</code> to zero.</p>
<p><code>cb_func</code> is called with a target thread (the first argument), an underlying execution stream (the second argument), an event code (the third argument, see ABT_TOOL_EVENT_THREAD), and the tool context that can be used for ABT_tool_query(). If the event occurs on an external thread, ABT_XSTREAM_NULL is passed. The returned tool context is only valid in the callback function.</p>
<p>An object to which a returned handle points to may be in an intermediate state, so users are discouraged not to read any internal state of such an object (e.g., by <a class="el" href="../../d0/d6d/group__ULT.html#ga7c9d02c8bdd6a75538b7301c9db0a485" title="Return the state of thread. ">ABT_thread_get_state()</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_func</td><td>callback function pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event_mask</td><td>event code mask </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_arg</td><td>user argument passed to <code>cb_func</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">ABT_ERR_FEATURE_NA</td><td>tool feature is not supported </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/db9/tool_8c_source.html#l00044">44</a> of file <a class="el" href="../../df/db9/tool_8c_source.html">tool.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad2b1b2edca395d79ec47de11e857d314"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d5/d09/abtu_8h.html#a071d8986b72b8f5d099cdd47979b5e81">ABTU_ret_err</a> int tool_query </td>
          <td>(</td>
          <td class="paramtype">ABTI_tool_context *&#160;</td>
          <td class="paramname"><em>p_tctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#ae0cb4fbeb9842cf875613879a2270353">ABT_tool_query_kind</a>&#160;</td>
          <td class="paramname"><em>query_kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/db9/tool_8c_source.html#l00245">245</a> of file <a class="el" href="../../df/db9/tool_8c_source.html">tool.c</a>.</p>

<p>Referenced by <a class="el" href="../../df/db9/tool_8c_source.html#l00225">ABT_tool_query_task()</a>, and <a class="el" href="../../df/db9/tool_8c_source.html#l00195">ABT_tool_query_thread()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 7 2020 10:36:20 for ARGOBOTS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
