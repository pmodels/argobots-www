<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ARGOBOTS: src/pool/pool.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ARGOBOTS
   &#160;<span id="projectnumber">1e2761d682a1627f28cafc58e561ce6e65c5002f</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_e2de76ba30642a92752881ffd21fbc7e.html">pool</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">pool.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/de5/pool_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*- Mode: C; c-basic-offset:4 ; indent-tabs-mode:nil ; -*- */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * See COPYRIGHT in top-level directory.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d03/abti_8h.html">abti.h</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<a class="code" href="../../d5/d09/abtu_8h.html#a071d8986b72b8f5d099cdd47979b5e81">ABTU_ret_err</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/de5/pool_8c.html#a0ba4063ff9bb2f9795508c20e497aba4">pool_create</a>(ABTI_pool_def *def, <a class="code" href="../../d9/d52/group__POOL.html#ga4b2554363a286799e1e0f4be8b442802">ABT_pool_config</a> config,</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                                    <a class="code" href="../../d5/d7d/abt_8h.html#a28854ddb62b26e4a2ee42132671bbef0">ABT_bool</a> automatic, <a class="code" href="../../d5/d7d/abt_8h.html#a28854ddb62b26e4a2ee42132671bbef0">ABT_bool</a> is_builtin,</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                                    ABTI_pool **pp_newpool);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga7a000646ad0b5899ee47779d051758e8">   73</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga7a000646ad0b5899ee47779d051758e8">ABT_pool_create</a>(<a class="code" href="../../d4/dfc/structABT__pool__def.html">ABT_pool_def</a> *def, <a class="code" href="../../d9/d52/group__POOL.html#ga4b2554363a286799e1e0f4be8b442802">ABT_pool_config</a> config,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                    <a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> *newpool)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#ifndef ABT_CONFIG_ENABLE_VER_20_API</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">/* Argobots 1.x sets newpool to NULL on error. */</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    *newpool = <a class="code" href="../../d5/d7d/abt_8h.html#a73fcc4b17c8eec71fcae8437116cc5e2">ABT_POOL_NULL</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">/* Copy def */</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    ABTI_pool_def internal_def;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    internal_def.access = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a9652caf35cbf3cfb4c20c78542fb429b">access</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    internal_def.u_is_in_pool = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a786dadf56c75898d62632178fd3553e1">u_is_in_pool</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    internal_def.u_create_from_thread = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#ac997e04436a000841e8aeaf8e828a191">u_create_from_thread</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    internal_def.u_free = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a348d6bbedb37008f35fe6f3b140e8885">u_free</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    internal_def.p_init = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a5c78948ca29cd89d18eb4c9363730349">p_init</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    internal_def.p_get_size = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a9dab7ea3f52344ffbac7d7b361d861bb">p_get_size</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    internal_def.p_push = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#aa2116b16f4ec4fa5a70b29dae3de7f22">p_push</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    internal_def.p_pop = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a0728cf722030dbd47f03fd29ab451c3f">p_pop</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#ifdef ABT_CONFIG_ENABLE_VER_20_API</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    internal_def.p_pop_wait = def-&gt;p_pop_wait;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    internal_def.p_pop_wait = NULL;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    internal_def.<a class="code" href="../../d4/dfc/structABT__pool__def.html#a62a2c9b1efe113f4648a783eb6b5653d">p_pop_timedwait</a> = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a62a2c9b1efe113f4648a783eb6b5653d">p_pop_timedwait</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    internal_def.p_remove = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a0283d45939d963553295be918d3351f0">p_remove</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    internal_def.p_free = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a9b0af7ff3ea24338bcdea32488a3c249">p_free</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    internal_def.p_print_all = def-&gt;<a class="code" href="../../d4/dfc/structABT__pool__def.html#a471950273f0af2b5e1cf039bc205c97d">p_print_all</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    ABTI_pool *p_newpool;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">int</span> abt_errno =</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="../../d4/de5/pool_8c.html#a0ba4063ff9bb2f9795508c20e497aba4">pool_create</a>(&amp;internal_def, config, <a class="code" href="../../d5/d7d/abt_8h.html#aedde437380ced4813c3c36d97e926a25">ABT_FALSE</a>, <a class="code" href="../../d5/d7d/abt_8h.html#aedde437380ced4813c3c36d97e926a25">ABT_FALSE</a>, &amp;p_newpool);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    ABTI_CHECK_ERROR(abt_errno);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    *newpool = ABTI_pool_get_handle(p_newpool);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#gaae479c7d7ae2816d8a953ea307611b49">  167</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#gaae479c7d7ae2816d8a953ea307611b49">ABT_pool_create_basic</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga3d9e73381c78389a50ef463732e672a1">ABT_pool_kind</a> kind, <a class="code" href="../../d9/d52/group__POOL.html#gad33f04702fb8618eed4f6ece04041ecf">ABT_pool_access</a> access,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                          <a class="code" href="../../d5/d7d/abt_8h.html#a28854ddb62b26e4a2ee42132671bbef0">ABT_bool</a> automatic, <a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> *newpool)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#ifndef ABT_CONFIG_ENABLE_VER_20_API</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">/* Argobots 1.x sets newpool to NULL on error. */</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    *newpool = <a class="code" href="../../d5/d7d/abt_8h.html#a73fcc4b17c8eec71fcae8437116cc5e2">ABT_POOL_NULL</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    ABTI_pool *p_newpool;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">int</span> abt_errno = ABTI_pool_create_basic(kind, access, automatic, &amp;p_newpool);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    ABTI_CHECK_ERROR(abt_errno);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    *newpool = ABTI_pool_get_handle(p_newpool);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga99295e7c312a3b0699b3f5c9ae4cfc60">  211</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga99295e7c312a3b0699b3f5c9ae4cfc60">ABT_pool_free</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> *pool)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> h_pool = *pool;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(h_pool);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    ABTI_pool_free(p_pool);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    *pool = <a class="code" href="../../d5/d7d/abt_8h.html#a73fcc4b17c8eec71fcae8437116cc5e2">ABT_POOL_NULL</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga6089256f32498ee058e6df9478f95574">  245</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga6089256f32498ee058e6df9478f95574">ABT_pool_get_access</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <a class="code" href="../../d9/d52/group__POOL.html#gad33f04702fb8618eed4f6ece04041ecf">ABT_pool_access</a> *access)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    *access = p_pool-&gt;access;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga89312324e2c5a199992323035d9bb7c2">  291</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga89312324e2c5a199992323035d9bb7c2">ABT_pool_get_total_size</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <span class="keywordtype">size_t</span> *size)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    *size = ABTI_pool_get_total_size(p_pool);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#gaafe8ef10c4d7fe1c7f7263fdc56fa58e">  334</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#gaafe8ef10c4d7fe1c7f7263fdc56fa58e">ABT_pool_get_size</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <span class="keywordtype">size_t</span> *size)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    *size = ABTI_pool_get_size(p_pool);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga50138fd611a69d657d3314cd606c68f6">  388</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga50138fd611a69d657d3314cd606c68f6">ABT_pool_pop</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <a class="code" href="../../de/dab/group__UNIT.html#ga2766d98ace73a538d42ff64a8b999baf">ABT_unit</a> *p_unit)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    *p_unit = ABTI_pool_pop(p_pool);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#gaf22802d586052a8562abc07f779b5302">  446</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#gaf22802d586052a8562abc07f779b5302">ABT_pool_pop_wait</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <a class="code" href="../../de/dab/group__UNIT.html#ga2766d98ace73a538d42ff64a8b999baf">ABT_unit</a> *p_unit, <span class="keywordtype">double</span> time_secs)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    ABTI_CHECK_TRUE(p_pool-&gt;p_pop_wait, <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gad87df4eeaf3a5abd8f8cc755058c67d4">ABT_ERR_POOL</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    *p_unit = ABTI_pool_pop_wait(p_pool, time_secs);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga2352e41d6926b40fdabb97a72a90c144">  510</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga2352e41d6926b40fdabb97a72a90c144">ABT_pool_pop_timedwait</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <a class="code" href="../../de/dab/group__UNIT.html#ga2766d98ace73a538d42ff64a8b999baf">ABT_unit</a> *p_unit, <span class="keywordtype">double</span> abstime_secs)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;{</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    ABTI_CHECK_TRUE(p_pool-&gt;p_pop_timedwait, <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gad87df4eeaf3a5abd8f8cc755058c67d4">ABT_ERR_POOL</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    *p_unit = ABTI_pool_pop_timedwait(p_pool, abstime_secs);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga8f37f5da3f8c2d8a0eb349063e31f3fa">ABT_pool_push</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <a class="code" href="../../de/dab/group__UNIT.html#ga2766d98ace73a538d42ff64a8b999baf">ABT_unit</a> unit)</div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga8f37f5da3f8c2d8a0eb349063e31f3fa">  560</a></span>&#160;{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    ABTI_global *p_global = ABTI_global_get_global();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    ABTI_CHECK_TRUE(unit != <a class="code" href="../../d5/d7d/abt_8h.html#ad6965c86292ec2b77ca0dd2797b3f4e7">ABT_UNIT_NULL</a>, <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gac103457f2d83d3ba5dcff4ffe9698394">ABT_ERR_INV_UNIT</a>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    ABTI_thread *p_thread;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordtype">int</span> abt_errno =</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        ABTI_unit_set_associated_pool(p_global, unit, p_pool, &amp;p_thread);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    ABTI_CHECK_ERROR(abt_errno);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">/* ABTI_unit_set_associated_pool() might change unit, so &quot;unit&quot; must be read</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">     * again from p_thread. */</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    ABTI_pool_push(p_pool, p_thread-&gt;unit);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga2d7747df606be0704dd7894ac79dd56b">ABT_pool_remove</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <a class="code" href="../../de/dab/group__UNIT.html#ga2766d98ace73a538d42ff64a8b999baf">ABT_unit</a> unit)</div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga2d7747df606be0704dd7894ac79dd56b">  618</a></span>&#160;{</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    ABTI_CHECK_TRUE(p_pool-&gt;p_remove, <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gad87df4eeaf3a5abd8f8cc755058c67d4">ABT_ERR_POOL</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="comment">/* unit must be in this pool, so we do not need to reset its associated</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">     * pool. */</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordtype">int</span> abt_errno = ABTI_pool_remove(p_pool, unit);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    ABTI_CHECK_ERROR(abt_errno);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga4e1c11ccced444023a1fab17c148a5ca">ABT_pool_print_all</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <span class="keywordtype">void</span> *arg,</div>
<div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga4e1c11ccced444023a1fab17c148a5ca">  674</a></span>&#160;                       <span class="keywordtype">void</span> (*print_fn)(<span class="keywordtype">void</span> *, <a class="code" href="../../de/dab/group__UNIT.html#ga2766d98ace73a538d42ff64a8b999baf">ABT_unit</a>))</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    ABTI_CHECK_TRUE(p_pool-&gt;p_print_all, <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gad87df4eeaf3a5abd8f8cc755058c67d4">ABT_ERR_POOL</a>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    p_pool-&gt;p_print_all(pool, arg, print_fn);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#gaae4cb8502f813229d2fbb5e0961ffdf3">ABT_pool_set_data</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <span class="keywordtype">void</span> *data)</div>
<div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#gaae4cb8502f813229d2fbb5e0961ffdf3">  707</a></span>&#160;{</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    p_pool-&gt;data = data;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;}</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#gac5e9bbf2126b7c2b951068bafbd47fde">ABT_pool_get_data</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <span class="keywordtype">void</span> **data)</div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#gac5e9bbf2126b7c2b951068bafbd47fde">  740</a></span>&#160;{</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    *data = p_pool-&gt;data;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#ga398216ecd06e4ae64396c2565ecb4efa">ABT_pool_add_sched</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <a class="code" href="../../d0/d83/group__SCHED.html#gadf0a564b506bb4a288f49cbfd3116025">ABT_sched</a> sched)</div>
<div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#ga398216ecd06e4ae64396c2565ecb4efa">  792</a></span>&#160;{</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    ABTI_local *p_local = ABTI_local_get_local();</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    ABTI_global *p_global;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    ABTI_SETUP_GLOBAL(&amp;p_global);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    ABTI_sched *p_sched = ABTI_sched_get_ptr(sched);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    ABTI_CHECK_NULL_SCHED_PTR(p_sched);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">/* Mark the scheduler as it is used in pool */</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="preprocessor">#ifndef ABT_CONFIG_ENABLE_VER_20_API</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    ABTI_CHECK_TRUE(p_sched-&gt;used == ABTI_SCHED_NOT_USED, <a class="code" href="../../d7/d29/group__ERROR__CODE.html#ga7808be3bd2dd927e081ba67494133775">ABT_ERR_INV_SCHED</a>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    p_sched-&gt;used = ABTI_SCHED_IN_POOL;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="preprocessor">#ifndef ABT_CONFIG_ENABLE_VER_20_API</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">/* In both ABT_SCHED_TYPE_ULT and ABT_SCHED_TYPE_TASK cases, we use ULT-type</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">     * scheduler to reduce the code maintenance cost. */</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">int</span> abt_errno =</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        ABTI_ythread_create_sched(p_global, p_local, p_pool, p_sched);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">if</span> (abt_errno != <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        p_sched-&gt;used = ABTI_SCHED_NOT_USED;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        ABTI_HANDLE_ERROR(abt_errno);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d9/d52/group__POOL.html#gae3b9d5f542cb31852aaa4d7079350e74">ABT_pool_get_id</a>(<a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> pool, <span class="keywordtype">int</span> *<span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00845"></a><span class="lineno"><a class="line" href="../../d9/d52/group__POOL.html#gae3b9d5f542cb31852aaa4d7079350e74">  845</a></span>&#160;{</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    ABTI_pool *p_pool = ABTI_pool_get_ptr(pool);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    ABTI_CHECK_NULL_POOL_PTR(p_pool);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    *<span class="keywordtype">id</span> = (int)p_pool-&gt;id;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">/*****************************************************************************/</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">/* Private APIs                                                              */</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">/*****************************************************************************/</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<a class="code" href="../../d5/d09/abtu_8h.html#a071d8986b72b8f5d099cdd47979b5e81">ABTU_ret_err</a> <span class="keywordtype">int</span> ABTI_pool_create_basic(<a class="code" href="../../d9/d52/group__POOL.html#ga3d9e73381c78389a50ef463732e672a1">ABT_pool_kind</a> kind,</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                        <a class="code" href="../../d9/d52/group__POOL.html#gad33f04702fb8618eed4f6ece04041ecf">ABT_pool_access</a> access,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                        <a class="code" href="../../d5/d7d/abt_8h.html#a28854ddb62b26e4a2ee42132671bbef0">ABT_bool</a> automatic,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                        ABTI_pool **pp_newpool)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordtype">int</span> abt_errno;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    ABTI_pool_def def;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    ABTI_CHECK_TRUE(access == <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa6b52ca5bbffb03291d493257a8fe5bed">ABT_POOL_ACCESS_PRIV</a> ||</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                        access == <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa9385bbd5d15bee55652e14e7546a0425">ABT_POOL_ACCESS_SPSC</a> ||</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                        access == <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfabb04cf57d6a62299db2783422069d1ef">ABT_POOL_ACCESS_MPSC</a> ||</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                        access == <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa2d9b6671e37097bb153513c200a2ad46">ABT_POOL_ACCESS_SPMC</a> ||</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                        access == <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfaef5831d28ade4eb4b2a8e69a4c5bb39f">ABT_POOL_ACCESS_MPMC</a>,</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gad1089de1eed803e47bb198c6b4e381c6">ABT_ERR_INV_POOL_ACCESS</a>);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">switch</span> (kind) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d52/group__POOL.html#gga3d9e73381c78389a50ef463732e672a1a9f3f606b821abf78ccefd65ae5ce494c">ABT_POOL_FIFO</a>:</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            abt_errno = ABTI_pool_get_fifo_def(access, &amp;def);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d9/d52/group__POOL.html#gga3d9e73381c78389a50ef463732e672a1a0cb3dad152f9501d06400bd075c4dbd6">ABT_POOL_FIFO_WAIT</a>:</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            abt_errno = ABTI_pool_get_fifo_wait_def(access, &amp;def);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            abt_errno = <a class="code" href="../../d7/d29/group__ERROR__CODE.html#ga451e366f0ad9b060fd046e77e77ddc65">ABT_ERR_INV_POOL_KIND</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    ABTI_CHECK_ERROR(abt_errno);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    abt_errno = <a class="code" href="../../d4/de5/pool_8c.html#a0ba4063ff9bb2f9795508c20e497aba4">pool_create</a>(&amp;def, <a class="code" href="../../d5/d7d/abt_8h.html#a8040b0a9fd0b898cf67f4dd875914570">ABT_POOL_CONFIG_NULL</a>, automatic, <a class="code" href="../../d5/d7d/abt_8h.html#a1839f64e5a2462a68ffd82ba94213582">ABT_TRUE</a>,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                            pp_newpool);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    ABTI_CHECK_ERROR(abt_errno);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;}</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="keywordtype">void</span> ABTI_pool_free(ABTI_pool *p_pool)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;{</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="../../d4/d5e/abti__log_8h.html#ac06cfc686322558f590c50eab8622ebd">LOG_DEBUG</a>(<span class="stringliteral">&quot;[P%&quot;</span> PRIu64 <span class="stringliteral">&quot;] freed\n&quot;</span>, p_pool-&gt;id);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a> h_pool = ABTI_pool_get_handle(p_pool);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">if</span> (p_pool-&gt;p_free) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        p_pool-&gt;p_free(h_pool);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="../../d5/d09/abtu_8h.html#af0f6a5e8ef4ccd33c1c2bdaf0fa905a3">ABTU_free</a>(p_pool);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="keywordtype">void</span> ABTI_pool_print(ABTI_pool *p_pool, FILE *p_os, <span class="keywordtype">int</span> indent)</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;{</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (p_pool == NULL) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        fprintf(p_os, <span class="stringliteral">&quot;%*s== NULL POOL ==\n&quot;</span>, indent, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *access;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordflow">switch</span> (p_pool-&gt;access) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa6b52ca5bbffb03291d493257a8fe5bed">ABT_POOL_ACCESS_PRIV</a>:</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                access = <span class="stringliteral">&quot;PRIV&quot;</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa9385bbd5d15bee55652e14e7546a0425">ABT_POOL_ACCESS_SPSC</a>:</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                access = <span class="stringliteral">&quot;SPSC&quot;</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfabb04cf57d6a62299db2783422069d1ef">ABT_POOL_ACCESS_MPSC</a>:</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                access = <span class="stringliteral">&quot;MPSC&quot;</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa2d9b6671e37097bb153513c200a2ad46">ABT_POOL_ACCESS_SPMC</a>:</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                access = <span class="stringliteral">&quot;SPMC&quot;</span>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfaef5831d28ade4eb4b2a8e69a4c5bb39f">ABT_POOL_ACCESS_MPMC</a>:</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                access = <span class="stringliteral">&quot;MPMC&quot;</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                access = <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        fprintf(p_os,</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <span class="stringliteral">&quot;%*s== POOL (%p) ==\n&quot;</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                <span class="stringliteral">&quot;%*sid            : %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                <span class="stringliteral">&quot;%*saccess        : %s\n&quot;</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="stringliteral">&quot;%*sautomatic     : %s\n&quot;</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                <span class="stringliteral">&quot;%*snum_scheds    : %d\n&quot;</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                <span class="stringliteral">&quot;%*ssize          : %zu\n&quot;</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                <span class="stringliteral">&quot;%*snum_blocked   : %d\n&quot;</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                <span class="stringliteral">&quot;%*sdata          : %p\n&quot;</span>,</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                indent, <span class="stringliteral">&quot;&quot;</span>, (<span class="keywordtype">void</span> *)p_pool, indent, <span class="stringliteral">&quot;&quot;</span>, p_pool-&gt;id, indent, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                access, indent, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                (p_pool-&gt;automatic == <a class="code" href="../../d5/d7d/abt_8h.html#a1839f64e5a2462a68ffd82ba94213582">ABT_TRUE</a>) ? <span class="stringliteral">&quot;TRUE&quot;</span> : <span class="stringliteral">&quot;FALSE&quot;</span>, indent, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                ABTD_atomic_acquire_load_int32(&amp;p_pool-&gt;num_scheds), indent, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                ABTI_pool_get_size(p_pool), indent, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                ABTD_atomic_acquire_load_int32(&amp;p_pool-&gt;num_blocked), indent,</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                <span class="stringliteral">&quot;&quot;</span>, p_pool-&gt;data);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    fflush(p_os);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;}</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="keyword">static</span> ABTD_atomic_uint64 <a class="code" href="../../d4/de5/pool_8c.html#a981321f7189da9a8d0d6c52d7889fe46">g_pool_id</a> = ABTD_ATOMIC_UINT64_STATIC_INITIALIZER(0);</div>
<div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="../../d4/de5/pool_8c.html#a981321f7189da9a8d0d6c52d7889fe46">  949</a></span>&#160;<span class="keywordtype">void</span> ABTI_pool_reset_id(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;{</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    ABTD_atomic_release_store_uint64(&amp;<a class="code" href="../../d4/de5/pool_8c.html#a981321f7189da9a8d0d6c52d7889fe46">g_pool_id</a>, 0);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">/*****************************************************************************/</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">/* Internal static functions                                                 */</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">/*****************************************************************************/</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> uint64_t <a class="code" href="../../d4/de5/pool_8c.html#ae2c0d7059407905387e02b333a0e801f">pool_get_new_id</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<a class="code" href="../../d5/d09/abtu_8h.html#a071d8986b72b8f5d099cdd47979b5e81">ABTU_ret_err</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/de5/pool_8c.html#a0ba4063ff9bb2f9795508c20e497aba4">pool_create</a>(ABTI_pool_def *def, <a class="code" href="../../d9/d52/group__POOL.html#ga4b2554363a286799e1e0f4be8b442802">ABT_pool_config</a> config,</div>
<div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="../../d4/de5/pool_8c.html#a0ba4063ff9bb2f9795508c20e497aba4">  960</a></span>&#160;                                    <a class="code" href="../../d5/d7d/abt_8h.html#a28854ddb62b26e4a2ee42132671bbef0">ABT_bool</a> automatic, <a class="code" href="../../d5/d7d/abt_8h.html#a28854ddb62b26e4a2ee42132671bbef0">ABT_bool</a> is_builtin,</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                    ABTI_pool **pp_newpool)</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;{</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordtype">int</span> abt_errno;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    ABTI_pool *p_pool;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    abt_errno = <a class="code" href="../../d5/d09/abtu_8h.html#aa2d633baee4486fb78890916840282af">ABTU_malloc</a>(<span class="keyword">sizeof</span>(ABTI_pool), (<span class="keywordtype">void</span> **)&amp;p_pool);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    ABTI_CHECK_ERROR(abt_errno);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    p_pool-&gt;access = def-&gt;access;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    p_pool-&gt;automatic = automatic;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    p_pool-&gt;is_builtin = is_builtin;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    ABTD_atomic_release_store_int32(&amp;p_pool-&gt;num_scheds, 0);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    ABTD_atomic_release_store_int32(&amp;p_pool-&gt;num_blocked, 0);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    p_pool-&gt;data = NULL;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="comment">/* Set up the pool functions from def */</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    p_pool-&gt;u_is_in_pool = def-&gt;u_is_in_pool;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    p_pool-&gt;u_create_from_thread = def-&gt;u_create_from_thread;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    p_pool-&gt;u_free = def-&gt;u_free;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    p_pool-&gt;p_init = def-&gt;p_init;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    p_pool-&gt;p_get_size = def-&gt;p_get_size;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    p_pool-&gt;p_push = def-&gt;p_push;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    p_pool-&gt;p_pop = def-&gt;p_pop;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    p_pool-&gt;p_pop_wait = def-&gt;p_pop_wait;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    p_pool-&gt;p_pop_timedwait = def-&gt;p_pop_timedwait;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    p_pool-&gt;p_remove = def-&gt;p_remove;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    p_pool-&gt;p_free = def-&gt;p_free;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    p_pool-&gt;p_print_all = def-&gt;p_print_all;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    p_pool-&gt;id = <a class="code" href="../../d4/de5/pool_8c.html#ae2c0d7059407905387e02b333a0e801f">pool_get_new_id</a>();</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="../../d4/d5e/abti__log_8h.html#ac06cfc686322558f590c50eab8622ebd">LOG_DEBUG</a>(<span class="stringliteral">&quot;[P%&quot;</span> PRIu64 <span class="stringliteral">&quot;] created\n&quot;</span>, p_pool-&gt;id);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="comment">/* Configure the pool */</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">if</span> (p_pool-&gt;p_init) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        abt_errno = p_pool-&gt;p_init(ABTI_pool_get_handle(p_pool), config);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="keywordflow">if</span> (abt_errno != <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <a class="code" href="../../d5/d09/abtu_8h.html#af0f6a5e8ef4ccd33c1c2bdaf0fa905a3">ABTU_free</a>(p_pool);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordflow">return</span> abt_errno;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    *pp_newpool = p_pool;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;}</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> uint64_t <a class="code" href="../../d4/de5/pool_8c.html#ae2c0d7059407905387e02b333a0e801f">pool_get_new_id</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01004"></a><span class="lineno"><a class="line" href="../../d4/de5/pool_8c.html#ae2c0d7059407905387e02b333a0e801f"> 1004</a></span>&#160;{</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">return</span> (uint64_t)ABTD_atomic_fetch_add_uint64(&amp;<a class="code" href="../../d4/de5/pool_8c.html#a981321f7189da9a8d0d6c52d7889fe46">g_pool_id</a>, 1);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="agroup__POOL_html_gac5e9bbf2126b7c2b951068bafbd47fde"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gac5e9bbf2126b7c2b951068bafbd47fde">ABT_pool_get_data</a></div><div class="ttdeci">int ABT_pool_get_data(ABT_pool pool, void **data)</div><div class="ttdoc">Retrieve user data from a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00740">pool.c:740</a></div></div>
<div class="ttc" id="agroup__POOL_html_gaf22802d586052a8562abc07f779b5302"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gaf22802d586052a8562abc07f779b5302">ABT_pool_pop_wait</a></div><div class="ttdeci">int ABT_pool_pop_wait(ABT_pool pool, ABT_unit *p_unit, double time_secs)</div><div class="ttdoc">Pop a unit from a pool with wait.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00446">pool.c:446</a></div></div>
<div class="ttc" id="aabt_8h_html_a28854ddb62b26e4a2ee42132671bbef0"><div class="ttname"><a href="../../d5/d7d/abt_8h.html#a28854ddb62b26e4a2ee42132671bbef0">ABT_bool</a></div><div class="ttdeci">int ABT_bool</div><div class="ttdoc">Boolean type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01001">abt.h:1001</a></div></div>
<div class="ttc" id="agroup__POOL_html_gaafe8ef10c4d7fe1c7f7263fdc56fa58e"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gaafe8ef10c4d7fe1c7f7263fdc56fa58e">ABT_pool_get_size</a></div><div class="ttdeci">int ABT_pool_get_size(ABT_pool pool, size_t *size)</div><div class="ttdoc">Get the size of a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00334">pool.c:334</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga7a000646ad0b5899ee47779d051758e8"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga7a000646ad0b5899ee47779d051758e8">ABT_pool_create</a></div><div class="ttdeci">int ABT_pool_create(ABT_pool_def *def, ABT_pool_config config, ABT_pool *newpool)</div><div class="ttdoc">Create a new pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00073">pool.c:73</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga398216ecd06e4ae64396c2565ecb4efa"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga398216ecd06e4ae64396c2565ecb4efa">ABT_pool_add_sched</a></div><div class="ttdeci">int ABT_pool_add_sched(ABT_pool pool, ABT_sched sched)</div><div class="ttdoc">Create a new work unit associated with a scheduler and push it to a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00792">pool.c:792</a></div></div>
<div class="ttc" id="agroup__ERROR__CODE_html_gad87df4eeaf3a5abd8f8cc755058c67d4"><div class="ttname"><a href="../../d7/d29/group__ERROR__CODE.html#gad87df4eeaf3a5abd8f8cc755058c67d4">ABT_ERR_POOL</a></div><div class="ttdeci">#define ABT_ERR_POOL</div><div class="ttdoc">Error code: error related to a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00282">abt.h:282</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a348d6bbedb37008f35fe6f3b140e8885"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a348d6bbedb37008f35fe6f3b140e8885">ABT_pool_def::u_free</a></div><div class="ttdeci">ABT_unit_free_fn u_free</div><div class="ttdoc">Function that frees a work unit.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01531">abt.h:1531</a></div></div>
<div class="ttc" id="agroup__POOL_html_ggad33f04702fb8618eed4f6ece04041ecfaef5831d28ade4eb4b2a8e69a4c5bb39f"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfaef5831d28ade4eb4b2a8e69a4c5bb39f">ABT_POOL_ACCESS_MPMC</a></div><div class="ttdeci">@ ABT_POOL_ACCESS_MPMC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00541">abt.h:541</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a0283d45939d963553295be918d3351f0"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a0283d45939d963553295be918d3351f0">ABT_pool_def::p_remove</a></div><div class="ttdeci">ABT_pool_remove_fn p_remove</div><div class="ttdoc">Function that removes a work unit from a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01648">abt.h:1648</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a786dadf56c75898d62632178fd3553e1"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a786dadf56c75898d62632178fd3553e1">ABT_pool_def::u_is_in_pool</a></div><div class="ttdeci">ABT_unit_is_in_pool_fn u_is_in_pool</div><div class="ttdoc">Function that returns whether a work unit is in its associated pool or not.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01475">abt.h:1475</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga6bbc8a95dbe08348262228f3355652b2"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga6bbc8a95dbe08348262228f3355652b2">ABT_pool</a></div><div class="ttdeci">struct ABT_pool_opaque * ABT_pool</div><div class="ttdoc">Pool handle type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00841">abt.h:841</a></div></div>
<div class="ttc" id="agroup__POOL_html_ggad33f04702fb8618eed4f6ece04041ecfabb04cf57d6a62299db2783422069d1ef"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfabb04cf57d6a62299db2783422069d1ef">ABT_POOL_ACCESS_MPSC</a></div><div class="ttdeci">@ ABT_POOL_ACCESS_MPSC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00535">abt.h:535</a></div></div>
<div class="ttc" id="agroup__POOL_html_ggad33f04702fb8618eed4f6ece04041ecfa6b52ca5bbffb03291d493257a8fe5bed"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa6b52ca5bbffb03291d493257a8fe5bed">ABT_POOL_ACCESS_PRIV</a></div><div class="ttdeci">@ ABT_POOL_ACCESS_PRIV</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00526">abt.h:526</a></div></div>
<div class="ttc" id="agroup__SCHED_html_gadf0a564b506bb4a288f49cbfd3116025"><div class="ttname"><a href="../../d0/d83/group__SCHED.html#gadf0a564b506bb4a288f49cbfd3116025">ABT_sched</a></div><div class="ttdeci">struct ABT_sched_opaque * ABT_sched</div><div class="ttdoc">Scheduler handle type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00808">abt.h:808</a></div></div>
<div class="ttc" id="agroup__ERROR__CODE_html_ga7808be3bd2dd927e081ba67494133775"><div class="ttname"><a href="../../d7/d29/group__ERROR__CODE.html#ga7808be3bd2dd927e081ba67494133775">ABT_ERR_INV_SCHED</a></div><div class="ttdeci">#define ABT_ERR_INV_SCHED</div><div class="ttdoc">Error code: invalid scheduler.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00129">abt.h:129</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga4e1c11ccced444023a1fab17c148a5ca"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga4e1c11ccced444023a1fab17c148a5ca">ABT_pool_print_all</a></div><div class="ttdeci">int ABT_pool_print_all(ABT_pool pool, void *arg, void(*print_fn)(void *, ABT_unit))</div><div class="ttdoc">Apply a print function to every work unit in a pool using a user-defined function.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00674">pool.c:674</a></div></div>
<div class="ttc" id="aabt_8h_html_a73fcc4b17c8eec71fcae8437116cc5e2"><div class="ttname"><a href="../../d5/d7d/abt_8h.html#a73fcc4b17c8eec71fcae8437116cc5e2">ABT_POOL_NULL</a></div><div class="ttdeci">#define ABT_POOL_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01059">abt.h:1059</a></div></div>
<div class="ttc" id="aabti_8h_html"><div class="ttname"><a href="../../d5/d03/abti_8h.html">abti.h</a></div></div>
<div class="ttc" id="astructABT__pool__def_html"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html">ABT_pool_def</a></div><div class="ttdoc">A struct that defines a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01426">abt.h:1426</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga2d7747df606be0704dd7894ac79dd56b"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga2d7747df606be0704dd7894ac79dd56b">ABT_pool_remove</a></div><div class="ttdeci">int ABT_pool_remove(ABT_pool pool, ABT_unit unit)</div><div class="ttdoc">Remove a specified work unit from a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00618">pool.c:618</a></div></div>
<div class="ttc" id="aabt_8h_html_a8040b0a9fd0b898cf67f4dd875914570"><div class="ttname"><a href="../../d5/d7d/abt_8h.html#a8040b0a9fd0b898cf67f4dd875914570">ABT_POOL_CONFIG_NULL</a></div><div class="ttdeci">#define ABT_POOL_CONFIG_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01060">abt.h:1060</a></div></div>
<div class="ttc" id="apool_8c_html_a981321f7189da9a8d0d6c52d7889fe46"><div class="ttname"><a href="../../d4/de5/pool_8c.html#a981321f7189da9a8d0d6c52d7889fe46">g_pool_id</a></div><div class="ttdeci">static ABTD_atomic_uint64 g_pool_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00949">pool.c:949</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga4b2554363a286799e1e0f4be8b442802"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga4b2554363a286799e1e0f4be8b442802">ABT_pool_config</a></div><div class="ttdeci">struct ABT_pool_config_opaque * ABT_pool_config</div><div class="ttdoc">Pool configuration handle type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00848">abt.h:848</a></div></div>
<div class="ttc" id="aabtu_8h_html_aa2d633baee4486fb78890916840282af"><div class="ttname"><a href="../../d5/d09/abtu_8h.html#aa2d633baee4486fb78890916840282af">ABTU_malloc</a></div><div class="ttdeci">static ABTU_ret_err int ABTU_malloc(size_t size, void **p_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d09/abtu_8h_source.html#l00218">abtu.h:218</a></div></div>
<div class="ttc" id="aabti__log_8h_html_ac06cfc686322558f590c50eab8622ebd"><div class="ttname"><a href="../../d4/d5e/abti__log_8h.html#ac06cfc686322558f590c50eab8622ebd">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5e/abti__log_8h_source.html#l00026">abti_log.h:26</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a62a2c9b1efe113f4648a783eb6b5653d"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a62a2c9b1efe113f4648a783eb6b5653d">ABT_pool_def::p_pop_timedwait</a></div><div class="ttdeci">ABT_pool_pop_timedwait_fn p_pop_timedwait</div><div class="ttdoc">Function that pops a work unit from a pool with wait.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01634">abt.h:1634</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a0728cf722030dbd47f03fd29ab451c3f"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a0728cf722030dbd47f03fd29ab451c3f">ABT_pool_def::p_pop</a></div><div class="ttdeci">ABT_pool_pop_fn p_pop</div><div class="ttdoc">Function that pops a work unit from a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01590">abt.h:1590</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a9b0af7ff3ea24338bcdea32488a3c249"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a9b0af7ff3ea24338bcdea32488a3c249">ABT_pool_def::p_free</a></div><div class="ttdeci">ABT_pool_free_fn p_free</div><div class="ttdoc">Function that frees a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01661">abt.h:1661</a></div></div>
<div class="ttc" id="agroup__ERROR__CODE_html_gac103457f2d83d3ba5dcff4ffe9698394"><div class="ttname"><a href="../../d7/d29/group__ERROR__CODE.html#gac103457f2d83d3ba5dcff4ffe9698394">ABT_ERR_INV_UNIT</a></div><div class="ttdeci">#define ABT_ERR_INV_UNIT</div><div class="ttdoc">Error code: invalid work unit for scheduling.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00171">abt.h:171</a></div></div>
<div class="ttc" id="agroup__POOL_html_gga3d9e73381c78389a50ef463732e672a1a9f3f606b821abf78ccefd65ae5ce494c"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gga3d9e73381c78389a50ef463732e672a1a9f3f606b821abf78ccefd65ae5ce494c">ABT_POOL_FIFO</a></div><div class="ttdeci">@ ABT_POOL_FIFO</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00506">abt.h:506</a></div></div>
<div class="ttc" id="agroup__ERROR__CODE_html_gad1089de1eed803e47bb198c6b4e381c6"><div class="ttname"><a href="../../d7/d29/group__ERROR__CODE.html#gad1089de1eed803e47bb198c6b4e381c6">ABT_ERR_INV_POOL_ACCESS</a></div><div class="ttdeci">#define ABT_ERR_INV_POOL_ACCESS</div><div class="ttdoc">Error code: invalid pool access type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00166">abt.h:166</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a471950273f0af2b5e1cf039bc205c97d"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a471950273f0af2b5e1cf039bc205c97d">ABT_pool_def::p_print_all</a></div><div class="ttdeci">ABT_pool_print_all_fn p_print_all</div><div class="ttdoc">Function that applies a user-given function to all work units in a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01679">abt.h:1679</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a9652caf35cbf3cfb4c20c78542fb429b"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a9652caf35cbf3cfb4c20c78542fb429b">ABT_pool_def::access</a></div><div class="ttdeci">ABT_pool_access access</div><div class="ttdoc">Access type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01439">abt.h:1439</a></div></div>
<div class="ttc" id="agroup__POOL_html_gga3d9e73381c78389a50ef463732e672a1a0cb3dad152f9501d06400bd075c4dbd6"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gga3d9e73381c78389a50ef463732e672a1a0cb3dad152f9501d06400bd075c4dbd6">ABT_POOL_FIFO_WAIT</a></div><div class="ttdeci">@ ABT_POOL_FIFO_WAIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00515">abt.h:515</a></div></div>
<div class="ttc" id="agroup__UNIT_html_ga2766d98ace73a538d42ff64a8b999baf"><div class="ttname"><a href="../../de/dab/group__UNIT.html#ga2766d98ace73a538d42ff64a8b999baf">ABT_unit</a></div><div class="ttdeci">struct ABT_unit_opaque * ABT_unit</div><div class="ttdoc">Work unit handle type for scheduling.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00869">abt.h:869</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga50138fd611a69d657d3314cd606c68f6"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga50138fd611a69d657d3314cd606c68f6">ABT_pool_pop</a></div><div class="ttdeci">int ABT_pool_pop(ABT_pool pool, ABT_unit *p_unit)</div><div class="ttdoc">Pop a work unit from a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00388">pool.c:388</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a9dab7ea3f52344ffbac7d7b361d861bb"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a9dab7ea3f52344ffbac7d7b361d861bb">ABT_pool_def::p_get_size</a></div><div class="ttdeci">ABT_pool_get_size_fn p_get_size</div><div class="ttdoc">Function that returns a work unit.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01563">abt.h:1563</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_aa2116b16f4ec4fa5a70b29dae3de7f22"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#aa2116b16f4ec4fa5a70b29dae3de7f22">ABT_pool_def::p_push</a></div><div class="ttdeci">ABT_pool_push_fn p_push</div><div class="ttdoc">Function that pushes a work unit to a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01577">abt.h:1577</a></div></div>
<div class="ttc" id="agroup__ERROR__CODE_html_gacf7cd1bec0cd7f441708504429ee7fd3"><div class="ttname"><a href="../../d7/d29/group__ERROR__CODE.html#gacf7cd1bec0cd7f441708504429ee7fd3">ABT_SUCCESS</a></div><div class="ttdeci">#define ABT_SUCCESS</div><div class="ttdoc">Error code: the routine returns successfully.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00092">abt.h:92</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga8f37f5da3f8c2d8a0eb349063e31f3fa"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga8f37f5da3f8c2d8a0eb349063e31f3fa">ABT_pool_push</a></div><div class="ttdeci">int ABT_pool_push(ABT_pool pool, ABT_unit unit)</div><div class="ttdoc">Push a unit to a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00560">pool.c:560</a></div></div>
<div class="ttc" id="aabtu_8h_html_a071d8986b72b8f5d099cdd47979b5e81"><div class="ttname"><a href="../../d5/d09/abtu_8h.html#a071d8986b72b8f5d099cdd47979b5e81">ABTU_ret_err</a></div><div class="ttdeci">#define ABTU_ret_err</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d09/abtu_8h_source.html#l00138">abtu.h:138</a></div></div>
<div class="ttc" id="apool_8c_html_ae2c0d7059407905387e02b333a0e801f"><div class="ttname"><a href="../../d4/de5/pool_8c.html#ae2c0d7059407905387e02b333a0e801f">pool_get_new_id</a></div><div class="ttdeci">static uint64_t pool_get_new_id(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l01004">pool.c:1004</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga89312324e2c5a199992323035d9bb7c2"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga89312324e2c5a199992323035d9bb7c2">ABT_pool_get_total_size</a></div><div class="ttdeci">int ABT_pool_get_total_size(ABT_pool pool, size_t *size)</div><div class="ttdoc">Get the total size of a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00291">pool.c:291</a></div></div>
<div class="ttc" id="agroup__POOL_html_gaae479c7d7ae2816d8a953ea307611b49"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gaae479c7d7ae2816d8a953ea307611b49">ABT_pool_create_basic</a></div><div class="ttdeci">int ABT_pool_create_basic(ABT_pool_kind kind, ABT_pool_access access, ABT_bool automatic, ABT_pool *newpool)</div><div class="ttdoc">Create a new pool from a predefined type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00167">pool.c:167</a></div></div>
<div class="ttc" id="aabt_8h_html_a1839f64e5a2462a68ffd82ba94213582"><div class="ttname"><a href="../../d5/d7d/abt_8h.html#a1839f64e5a2462a68ffd82ba94213582">ABT_TRUE</a></div><div class="ttdeci">#define ABT_TRUE</div><div class="ttdoc">True constant for ABT_bool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00748">abt.h:748</a></div></div>
<div class="ttc" id="agroup__POOL_html_ggad33f04702fb8618eed4f6ece04041ecfa2d9b6671e37097bb153513c200a2ad46"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa2d9b6671e37097bb153513c200a2ad46">ABT_POOL_ACCESS_SPMC</a></div><div class="ttdeci">@ ABT_POOL_ACCESS_SPMC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00539">abt.h:539</a></div></div>
<div class="ttc" id="apool_8c_html_a0ba4063ff9bb2f9795508c20e497aba4"><div class="ttname"><a href="../../d4/de5/pool_8c.html#a0ba4063ff9bb2f9795508c20e497aba4">pool_create</a></div><div class="ttdeci">static ABTU_ret_err int pool_create(ABTI_pool_def *def, ABT_pool_config config, ABT_bool automatic, ABT_bool is_builtin, ABTI_pool **pp_newpool)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00960">pool.c:960</a></div></div>
<div class="ttc" id="aabt_8h_html_aedde437380ced4813c3c36d97e926a25"><div class="ttname"><a href="../../d5/d7d/abt_8h.html#aedde437380ced4813c3c36d97e926a25">ABT_FALSE</a></div><div class="ttdeci">#define ABT_FALSE</div><div class="ttdoc">False constant for ABT_bool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00750">abt.h:750</a></div></div>
<div class="ttc" id="agroup__ERROR__CODE_html_ga451e366f0ad9b060fd046e77e77ddc65"><div class="ttname"><a href="../../d7/d29/group__ERROR__CODE.html#ga451e366f0ad9b060fd046e77e77ddc65">ABT_ERR_INV_POOL_KIND</a></div><div class="ttdeci">#define ABT_ERR_INV_POOL_KIND</div><div class="ttdoc">Error code: invalid pool kind.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00161">abt.h:161</a></div></div>
<div class="ttc" id="agroup__POOL_html_ggad33f04702fb8618eed4f6ece04041ecfa9385bbd5d15bee55652e14e7546a0425"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ggad33f04702fb8618eed4f6ece04041ecfa9385bbd5d15bee55652e14e7546a0425">ABT_POOL_ACCESS_SPSC</a></div><div class="ttdeci">@ ABT_POOL_ACCESS_SPSC</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00531">abt.h:531</a></div></div>
<div class="ttc" id="aabtu_8h_html_af0f6a5e8ef4ccd33c1c2bdaf0fa905a3"><div class="ttname"><a href="../../d5/d09/abtu_8h.html#af0f6a5e8ef4ccd33c1c2bdaf0fa905a3">ABTU_free</a></div><div class="ttdeci">static void ABTU_free(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d09/abtu_8h_source.html#l00211">abtu.h:211</a></div></div>
<div class="ttc" id="agroup__POOL_html_gaae4cb8502f813229d2fbb5e0961ffdf3"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gaae4cb8502f813229d2fbb5e0961ffdf3">ABT_pool_set_data</a></div><div class="ttdeci">int ABT_pool_set_data(ABT_pool pool, void *data)</div><div class="ttdoc">Set user data in a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00707">pool.c:707</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_ac997e04436a000841e8aeaf8e828a191"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#ac997e04436a000841e8aeaf8e828a191">ABT_pool_def::u_create_from_thread</a></div><div class="ttdeci">ABT_unit_create_from_thread_fn u_create_from_thread</div><div class="ttdoc">Function that creates an ABT_unit handle that is associated with an ABT_thread handle.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01505">abt.h:1505</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga2352e41d6926b40fdabb97a72a90c144"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga2352e41d6926b40fdabb97a72a90c144">ABT_pool_pop_timedwait</a></div><div class="ttdeci">int ABT_pool_pop_timedwait(ABT_pool pool, ABT_unit *p_unit, double abstime_secs)</div><div class="ttdoc">Pop a unit from a pool with timed wait.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00510">pool.c:510</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga99295e7c312a3b0699b3f5c9ae4cfc60"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga99295e7c312a3b0699b3f5c9ae4cfc60">ABT_pool_free</a></div><div class="ttdeci">int ABT_pool_free(ABT_pool *pool)</div><div class="ttdoc">Free a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00211">pool.c:211</a></div></div>
<div class="ttc" id="astructABT__pool__def_html_a5c78948ca29cd89d18eb4c9363730349"><div class="ttname"><a href="../../d4/dfc/structABT__pool__def.html#a5c78948ca29cd89d18eb4c9363730349">ABT_pool_def::p_init</a></div><div class="ttdeci">ABT_pool_init_fn p_init</div><div class="ttdoc">Function that frees a work unit.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01545">abt.h:1545</a></div></div>
<div class="ttc" id="aabt_8h_html_ad6965c86292ec2b77ca0dd2797b3f4e7"><div class="ttname"><a href="../../d5/d7d/abt_8h.html#ad6965c86292ec2b77ca0dd2797b3f4e7">ABT_UNIT_NULL</a></div><div class="ttdeci">#define ABT_UNIT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l01061">abt.h:1061</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga3d9e73381c78389a50ef463732e672a1"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga3d9e73381c78389a50ef463732e672a1">ABT_pool_kind</a></div><div class="ttdeci">ABT_pool_kind</div><div class="ttdoc">Predefined pool type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00504">abt.h:504</a></div></div>
<div class="ttc" id="agroup__POOL_html_ga6089256f32498ee058e6df9478f95574"><div class="ttname"><a href="../../d9/d52/group__POOL.html#ga6089256f32498ee058e6df9478f95574">ABT_pool_get_access</a></div><div class="ttdeci">int ABT_pool_get_access(ABT_pool pool, ABT_pool_access *access)</div><div class="ttdoc">Get an access type of a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00245">pool.c:245</a></div></div>
<div class="ttc" id="agroup__POOL_html_gae3b9d5f542cb31852aaa4d7079350e74"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gae3b9d5f542cb31852aaa4d7079350e74">ABT_pool_get_id</a></div><div class="ttdeci">int ABT_pool_get_id(ABT_pool pool, int *id)</div><div class="ttdoc">Get ID of a pool.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/de5/pool_8c_source.html#l00845">pool.c:845</a></div></div>
<div class="ttc" id="agroup__POOL_html_gad33f04702fb8618eed4f6ece04041ecf"><div class="ttname"><a href="../../d9/d52/group__POOL.html#gad33f04702fb8618eed4f6ece04041ecf">ABT_pool_access</a></div><div class="ttdeci">ABT_pool_access</div><div class="ttdoc">Pool access type.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7d/abt_8h_source.html#l00522">abt.h:522</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 25 2021 03:10:08 for ARGOBOTS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
