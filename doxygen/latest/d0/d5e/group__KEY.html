<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ARGOBOTS: Work-Unit Local Storage (TLS)</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ARGOBOTS
   &#160;<span id="projectnumber">7ee1cb37947b0512554ee8d7ae2ff94baddcfa98</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Work-Unit Local Storage (TLS)</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad61e66b8732a4653e03d942448deaa44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5e/group__KEY.html#gad61e66b8732a4653e03d942448deaa44">ABT_key_create</a> (void(*destructor)(void *value), <a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a> *newkey)</td></tr>
<tr class="memdesc:gad61e66b8732a4653e03d942448deaa44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an WU-specific data key.  <a href="#gad61e66b8732a4653e03d942448deaa44">More...</a><br/></td></tr>
<tr class="separator:gad61e66b8732a4653e03d942448deaa44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga795e391fb1b5fc7745d3074568e0a311"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5e/group__KEY.html#ga795e391fb1b5fc7745d3074568e0a311">ABT_key_free</a> (<a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a> *key)</td></tr>
<tr class="memdesc:ga795e391fb1b5fc7745d3074568e0a311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an WU-specific data key.  <a href="#ga795e391fb1b5fc7745d3074568e0a311">More...</a><br/></td></tr>
<tr class="separator:ga795e391fb1b5fc7745d3074568e0a311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga227c3e43f7112de4f35581e1d6e7dfdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5e/group__KEY.html#ga227c3e43f7112de4f35581e1d6e7dfdf">ABT_key_set</a> (<a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a> key, void *value)</td></tr>
<tr class="memdesc:ga227c3e43f7112de4f35581e1d6e7dfdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate a value with the key.  <a href="#ga227c3e43f7112de4f35581e1d6e7dfdf">More...</a><br/></td></tr>
<tr class="separator:ga227c3e43f7112de4f35581e1d6e7dfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd0060d5743708069163a5e76542febc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5e/group__KEY.html#gabd0060d5743708069163a5e76542febc">ABT_key_get</a> (<a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a> key, void **value)</td></tr>
<tr class="memdesc:gabd0060d5743708069163a5e76542febc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value associated with the key.  <a href="#gabd0060d5743708069163a5e76542febc">More...</a><br/></td></tr>
<tr class="separator:gabd0060d5743708069163a5e76542febc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This group is for work-unit specific data, which can be described as work-unit local storage (TLS). </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad61e66b8732a4653e03d942448deaa44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_key_create </td>
          <td>(</td>
          <td class="paramtype">void(*)(void *value)&#160;</td>
          <td class="paramname"><em>destructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a> *&#160;</td>
          <td class="paramname"><em>newkey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an WU-specific data key. </p>
<p><code><a class="el" href="../../d0/d5e/group__KEY.html#gad61e66b8732a4653e03d942448deaa44" title="Create an WU-specific data key. ">ABT_key_create()</a></code> creates a new work unit (WU)-specific data key visible to all WUs (ULTs or tasklets) in the process and returns its handle through <code>newkey</code>. Although the same key may be used by different WUs, the values bound to the key by <code><a class="el" href="../../d0/d5e/group__KEY.html#ga227c3e43f7112de4f35581e1d6e7dfdf" title="Associate a value with the key. ">ABT_key_set()</a></code> are maintained per WU and persist for the life of the calling WU.</p>
<p>Upon key creation, the value <code>NULL</code> shall be associated with the new key in all active WUs. Upon WU creation, the value <code>NULL</code> shall be associated with all defined keys in the new WU.</p>
<p>An optional destructor function, <code>destructor</code>, may be registered with each key. When a WU terminates, if a key has a non-NULL destructor pointer, and the WU has a non-NULL value associated with that key, the value of the key is set to <code>NULL</code>, and then <code>destructor</code> is called with the previously associated value as its sole argument. The order of destructor calls is unspecified if more than one destructor exists for a WU when it exits.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">destructor</td><td>destructor function called when a WU exits </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">newkey</td><td>handle to a newly created key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../db/dfd/key_8c_source.html#l00042">42</a> of file <a class="el" href="../../db/dfd/key_8c_source.html">key.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga795e391fb1b5fc7745d3074568e0a311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_key_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a> *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an WU-specific data key. </p>
<p><code><a class="el" href="../../d0/d5e/group__KEY.html#ga795e391fb1b5fc7745d3074568e0a311" title="Free an WU-specific data key. ">ABT_key_free()</a></code> deletes the WU-specific data key specified by <code>key</code> and deallocates memory used for the key object. It is the user's responsibility to free memory for values associated with the deleted key. This routine does not call the destructor function registered by <code><a class="el" href="../../d0/d5e/group__KEY.html#gad61e66b8732a4653e03d942448deaa44" title="Create an WU-specific data key. ">ABT_key_create()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">key</td><td>handle to the target key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../db/dfd/key_8c_source.html#l00075">75</a> of file <a class="el" href="../../db/dfd/key_8c_source.html">key.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabd0060d5743708069163a5e76542febc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_key_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value associated with the key. </p>
<p><code><a class="el" href="../../d0/d5e/group__KEY.html#gabd0060d5743708069163a5e76542febc" title="Get the value associated with the key. ">ABT_key_get()</a></code> returns the value associated with the target WU-specific data key, <code>key</code>, through <code>value</code> on behalf of the calling WU. Different WUs get different values for the target key via this routine if they have set different values with <code><a class="el" href="../../d0/d5e/group__KEY.html#ga227c3e43f7112de4f35581e1d6e7dfdf" title="Associate a value with the key. ">ABT_key_set()</a></code>. If a WU has never set a value for the key, this routine returns <code>NULL</code> to <code>value</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>handle to the target key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value for the key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">ABT_ERR_INV_XSTREAM</td><td>called by an external thread </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../db/dfd/key_8c_source.html#l00147">147</a> of file <a class="el" href="../../db/dfd/key_8c_source.html">key.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga227c3e43f7112de4f35581e1d6e7dfdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ABT_key_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d7d/abt_8h.html#a3b2706b0ac83a0eed1409988a42d811c">ABT_key</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associate a value with the key. </p>
<p><code><a class="el" href="../../d0/d5e/group__KEY.html#ga227c3e43f7112de4f35581e1d6e7dfdf" title="Associate a value with the key. ">ABT_key_set()</a></code> associates a value, <code>value</code>, with the target WU-specific data key, <code>key</code>. Different WUs may bind different values to the same key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>handle to the target key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value for the key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ABT_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">ABT_ERR_INV_XSTREAM</td><td>called by an external thread </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../db/dfd/key_8c_source.html#l00107">107</a> of file <a class="el" href="../../db/dfd/key_8c_source.html">key.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 1 2020 03:09:52 for ARGOBOTS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
